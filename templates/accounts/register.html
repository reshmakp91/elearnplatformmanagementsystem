{% extends 'accounts/base.html' %}
{% block content %}
<div class="container">
    <div class="row align-items-center" style="min-height: 100vh;">
        <div class="col-md-9">
            <div class="card">
                <div class="card-body">
                    <h2 class="text-center"><strong>Signup</strong></h2><hr/>
                    {% if messages %} {% for msg in messages %}
                    <div class="alert alert-info">{{ msg }}</div>
                    {% endfor %} {% endif %}
                    <form method="post">
                        {% csrf_token %}
                        <table class="table table-borderless w-60">
                        <tr>
                            <td><strong>{{ form.name.label_tag }}</strong></td>
                            <td>{{ form.name }}</td>
                        </tr>
                        <tr>
                            <td><strong>{{ form.email.label_tag }}</strong></td>
                            <td>{{ form.email }}</td>
                        </tr>
                        <tr>
                            <td><strong>{{ form.username.label_tag }}</strong></td>
                            <td>{{ form.username }}</td>
                        </tr>
                        <tr>
                            <td><strong>{{ form.country.label_tag }}</strong></td>
                            <td>{{ form.country }}</td>
                        </tr>
                        <tr>
                            <td><strong>{{ form.state.label_tag }}</strong></td>
                            <td>{{ form.state }}</td>
                        </tr>
                        <tr>
                            <td><strong>{{ form.district.label_tag }}</strong></td>
                            <td>{{ form.district }}</td>
                        </tr>
                        <tr>
                            <td><strong>{{ form.password.label_tag }}</strong></td>
                            <td>{{ form.password }}</td>
                        </tr>
                        <tr>
                            <td><strong>{{ form.confirm_password.label_tag }}</strong></td>
                            <td>{{ form.confirm_password }}</td>
                        </tr>
                    </table>
                    <div class="text-center"><button type="submit" class="btn btn-primary mt-3">Register</button></div>
                    </form>
                    <div class="mt-4 text-center">
                        <h6>Already have an account? <a href="{% url 'login' %}" style="text-decoration: None">Login here</a></h6>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
       document.getElementById('id_country').addEventListener('change', function() {
        this.form.submit();
    });
    document.getElementById('id_state').addEventListener('change', function() {
        this.form.submit();
    });
</script>
{% endblock %}
